webpackJsonp([3],{116:function(t,e,n){(function(t){!function(){var e=n(9),o=n(7),a=n(3),i=n(2);t.makeHot=t.hot.data?t.hot.data.makeHot:e(function(){return o.getRootInstances(a)},i)}();try{(function(){"use strict";function t(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=n(16),i=(t(a),n(24)),r=(t(i),n(117)),l=(t(r),function s(t,e){var n=this;o(this,s),this.$q=t,this.AjaxApiService=e,this.items=[],this.show=!1;var a=e.ViewExchangeDetail(),i=function(e){var o=t.defer();return a.loadNew().then(function(t){t.length?(n.items.length?n.items=t.concat(n.items):n.items.push({time:"2012",dirscription:"你好f",count:"66"}),o.resolve(t)):o.reject()}),o.promise},r=function(e){var o=t.defer();return a.loadOld().then(function(t){t.length?(n.items=t,o.resolve(t)):o.reject()}),o.promise};i().then(function(t){n.show=!0},function(t){n.show=!1}),this.loadNew=i,this.loadOld=r});l.$inject=["$q","AjaxApiService"],e["default"]=l}).call(this)}finally{!function(){var e=t.hot.data&&t.hot.data.foundReactClasses||!1;if(t.exports&&t.makeHot){var o=n(8);o(t,n(2))&&(e=!0);var a=e;a&&t.hot.accept(function(t){t&&console.error("Cannot not apply hot update to ViewExchangeDetailController.js: "+t.message)})}t.hot.dispose(function(n){n.makeHot=t.makeHot,n.foundReactClasses=e})}()}}).call(e,n(10)(t))},117:function(t,e,n){(function(t){!function(){var e=n(9),o=n(7),a=n(3),i=n(2);t.makeHot=t.hot.data?t.hot.data.makeHot:e(function(){return o.getRootInstances(a)},i)}();try{(function(){"use strict";function t(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=function(){function t(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(e,n,o){return n&&t(e.prototype,n),o&&t(e,o),e}}();Object.defineProperty(e,"__esModule",{value:!0});var i=n(28),r=t(i),l=function(){function t(e,n){o(this,t),this.restrict="AE",this.transclude=!0,this.template='<div><div style="width:100%;position:absolute; top:-50px; height:50px; left:0; background:#f90">{{ dorpText }}</div><div ng-transclude class="dorpcont" ></div><div class="footer-load" style="height:0; overflow:hidden">load</div></div>'}return a(t,[{key:"link",value:function(t,e,n){function o(){c.deltaY=c.deltaY>c.scrollH?c.deltaY/(c.deltaY/window.innerHeight+1):c.deltaY,c.deltaY>c.scrollCritical&&i(c.release),c.element.style.webkitTransform="translate(0, "+c.deltaY+"px)"}function a(){if(c.deltaY>c.scrollCritical){r(68);var e=t.$apply(u);e.then(function(t){i("上次更新时间"+new Date),r(0)},function(t){i("没有最新的数据"),r(0)})}else r(0)}function i(t){c.pull.text(t)}function r(t,n){switch(n||(n=c.speed),t){case 0:setTimeout(function(){c.bBtn=!1,e[0].removeEventListener("touchmove",l,!1)},300);break;case 68:i(c.refresh),c.bBtn=!0,e[0].addEventListener("touchmove",l,!1)}c.element.style.webkitTransitionDuration=n+"ms",c.element.style.webkitTransform="translate(0, "+t+"px)"}function l(t){t.preventDefault()}function s(t){c.footerLoad.innerHTML=t}var c={element:e[0],pull:e.find("div").find("div").eq(0),scrollH:80,scrollCritical:68,speed:300,deltaY:0,start:0,pullText:"下拉刷新",release:"松手刷新",refresh:"刷新中",bBtn:!1,footerLoad:e.find("div").find("div").eq(2)[0]},u=n.fn,d=n.fn2;i(c.pullText),e.bind("touchstart",function(t){console.log(t),c.start=t.touches&&t.touches[0].pageY,c.element.style.webkitTransitionDuration="0ms",document.body.scrollTop>0&&(c.bBtn=!0),t.stopPropagation()}),e.bind("touchmove",function(t){c.bBtn||(c.deltaY=t.touches&&t.touches[0].pageY-c.start,c.deltaY>0&&(o(),t.preventDefault()))}),e.bind("touchend",function(){a()}),window.onscroll=function(){var e=document.body.scrollTop||document.documentElement.scrollTop,n=document.body.clientHeight,o="getBoundingClientRect"in document?c.footerLoad.getBoundingClientRect().top:c.footerLoad.offsetTop;if(e+n>=o){c.footerLoad.style.height="30px";var a=t.$apply(d);a.then(function(t){s("滚动加载"),c.footerLoad.style.height="0"},function(t){s("没有数据"),c.footerLoad.style.height="0"})}else c.footerLoad.style.height="0"}}}]),t}();e["default"]=r["default"].directive("dorpdownload",function(){return new l})}).call(this)}finally{!function(){var e=t.hot.data&&t.hot.data.foundReactClasses||!1;if(t.exports&&t.makeHot){var o=n(8);o(t,n(2))&&(e=!0);var a=e;a&&t.hot.accept(function(t){t&&console.error("Cannot not apply hot update to dorpDown.js: "+t.message)})}t.hot.dispose(function(n){n.makeHot=t.makeHot,n.foundReactClasses=e})}()}}).call(e,n(10)(t))}});